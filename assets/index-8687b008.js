(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const p=t=>{const e=document.createElement("button");return e.innerHTML=`
  <svg class="header__search-button-icon header__search-button-icon--close">
  <use href="src/assets/icons/sprite.svg#close-form"></use>
  </svg>
  `,e.type="button",e.setAttribute("aria-label","Закрыть поиск"),e.className=t,e},m=(t,e,n)=>{n.classList.add("header__search--active"),e.classList.add("header__overlay--active"),document.querySelector(`.${t}`).remove(),n.appendChild(p("header__search-button header__search-button--close"))},h=t=>{const e=document.createElement("button");return e.innerHTML=`
    <svg class="header__search-button-icon">
    <use href="src/assets/icons/sprite.svg#search"></use>
    </svg>
    `,e.setAttribute("aria-label","Открыть поиск"),e.type="button",e.className=t,e},y=(t,e,n)=>{n.classList.remove("header__search--active"),e.classList.remove("header__overlay--active"),document.querySelector(`.${t}`).remove(),n.appendChild(h("header__search-button header__search-button--open"))},f=()=>{const t=document.querySelector(".header__search"),e=document.querySelector(".header__search-input"),n=document.querySelector(".header__overlay");t.addEventListener("submit",r=>{r.preventDefault(""),console.log(e.value)}),t.addEventListener("click",r=>{const o=r.target;o.closest(".header__search-button--close")&&y("header__search-button--close",n,t),o.closest(".header__search-button--open")&&m("header__search-button--open",n,t)})},v=document.querySelector("#payment-popup"),b=document.querySelector("body"),g=()=>{v.classList.add("payment-popup--active"),b.classList.add("lock")},_=document.querySelector("#payment-popup"),S=document.querySelector("body"),a=()=>{_.classList.remove("payment-popup--active"),S.classList.remove("lock")},L=document.querySelector("#payment-card-number"),q=document.querySelector("#payment-card-date"),u=document.querySelector("#payment-card-type"),D=()=>{const{cardNumber:t,cardType:e,cardIcon:n,cardMonth:r,cardYear:o}=document.querySelector('input[name="payment-method"]:checked').dataset;u.setAttribute("alt",e),u.setAttribute("src",n),L.textContent=t,q.textContent=`${r}/${o}`},P=()=>{const t=document.querySelector("#change-payment-button"),e=document.querySelector("#payment-popup-overlay"),n=document.querySelector("#payment-popup-close"),r=document.querySelector("#payment-form");t.addEventListener("click",o=>{o.preventDefault(),g()}),e.addEventListener("click",o=>{o.preventDefault(),a()}),n.addEventListener("click",o=>{o.preventDefault(),a()}),r.addEventListener("submit",o=>{o.preventDefault(),D(),a()})},l=t=>t.value.replace(/\D/g,""),C=t=>{const{target:e}=t;let n=l(e);const[r]=n,o=["7","8","9"].includes(r),s=e.selectionStart;let c="";if(!n)return e.value="";if(e.value.length!==s){e.value.length===18&&(e.value=e.value.split("").filter((d,i)=>i!==s-1).join("")),t.data&&/\D/g.test(t.data)&&(e.value=n);return}o?(r==="9"&&(n="7"+n),c=`${r==="8"?"8":"+7"} `,n.length>1&&(c+="("+n.substring(1,4)),n.length>=5&&(c+=") "+n.substring(4,7)),n.length>=8&&(c+="-"+n.substring(7,9)),n.length>=10&&(c+="-"+n.substring(9,11))):c="+"+n.substring(0,16),e.value=c},E=t=>{const e=t.target.value.replace(/\D/g,"");t.keyCode===8&&e.length===1&&(t.target.value="")},B=t=>{const{target:e}=t,n=l(e),r=t.clipboardData||window.clipboardData;if(r){const o=r.getData("Text");if(/\D/g.test(o)){e.value=n;return}}},N=()=>{const t=document.querySelector("#contacts-phone");t.addEventListener("keydown",E),t.addEventListener("input",C),t.addEventListener("paste",B)};f();P();N();
